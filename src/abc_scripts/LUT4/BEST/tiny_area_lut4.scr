time

echo " "
echo "** Starting ABC TINY AREA LUT4 optimization and mapping (Zero Asic Corp.)"
echo ""

write_blif tiny_area_lut4.blif

&get -n -m

&st; &if -sz -C 5 -K 7 -S 44 -a ; &save -a; &ps; time
&put

read_blif tiny_area_lut4.blif

&get -n -m

&st; &lf -K 4 -e; &save -a; &ps; time
&put

read_blif tiny_area_lut4.blif

&get -n -m

&put

read_blif tiny_area_lut4.blif

strash

&get -n
&sopb -C 3
&fraig -x -L 200
&put

dc2

strash
dch -f

if -K 4 -a
&get -n -m; &save -a; &ps ; time
&put

read_blif tiny_area_lut4.blif

strash

&get -n
&fraig -x -L 200
&put

dc2

strash
dch -f

if -K 4 -a
&get -n -m; &ps ; &save -a;

&load;
&put


mfs2 -W 4 -M 500 -C 7000

lutpack -S 1;

&get -n -m;

&save -a;

&synch2 -K 4 -C 500; &if -K 4 -a; &save -a; &ps; &load; &put; mfs2 -W 4 -M 500 -C 7000; &get -n -m;  &save -a; &ps; &load; &synch2 -K 4 -C 500; &if -K 4 -a; &put; mfs2 -W 4 -M 500 -C 7000; &get -n -m; &save -a; &ps; &load; &ps; time


&put; mfs2 -W 4 -M 500 -C 7000; &get -n -m; &save -a; &ps; &synch2 -K 4 -C 500; &lf -K 4 -e; &save -a; &load; &ps; time

&st; &if -sz -C 5 -K 7 -S 44 -a ; &save -a; &load; &ps; time

&put; mfs2 -W 4 -M 1000 -C 7000; &get -n -m; &save -a; &ps; time

&put

lutpack -S 1;
time

&get -n -m;

&save -a;

&satlut -r; &save -a; &shrink; &dch -s -C 300; &if -sz -C 4 -K 7 -S 44 -a ; &put; mfs2 -W 4 -M 1000 -C 7000; &get -n -m; &satlut; &satlut -r ; &save -a; &ps; &load; 
time

&satlut -r; &save -a; &shrink; &dch -s -C 300; &if -sz -C 4 -K 7 -S 44 -a ; &put; mfs2 -W 4 -M 1000 -C 7000; &get -n -m; &satlut; &satlut -r ; &save -a; &ps; &load; 
time

&load; &ps; 

&satlut -r -C 500; &save -a; &shrink; &dch -s -C 300; &if -sz -C 4 -K 7 -S 44 -a ; &put; mfs2 -W 4 -M 1000 -C 7000; &get -n -m; &satlut; &satlut -r ; &save -a; &ps; time

&satlut -r -C 500; &save -a; &shrink; &dch -s -C 300; &if -sz -C 4 -K 7 -S 44 -a ; &put; mfs2 -W 4 -M 1000 -C 7000; &get -n -m; &satlut; &satlut -r ; &save -a; &ps; time

&satlut -r -C 500; &save -a; &shrink; &dch -s -C 300; &if -sz -C 4 -K 7 -S 44 -a ; &put; mfs2 -W 4 -M 1000 -C 7000; &get -n -m; &satlut; &satlut -r ; &save -a; &ps; time 

&load

&ps

&put

write_blif out.blif

echo " "
echo "** ABC TINY AREA LUT4 Optimization and Mapping done !!!"
